{"version":3,"file":"vue.js","sources":["../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["export function initState(vm){\n    // 前面将 options 挂载到 vm.$options，这里直接可以拿到\n    const opts = vm.$options;\n\n    // 如果传了data，做数据的初始化\n    if(opts.data){\n        initData(vm);\n    }\n    // 如果传了props，做操作...\n    // 如果传了watch，做操作...\n    // 如果传了computed，做操作...\n\n}\nfunction initData(vm){\n    console.log(\"进入 state.js - initData，数据初始化操作\")\n}\n","import { initState } from \"./state\";\n\nexport function initMixin(Vue) {\n  // 在Vue原型上扩展一个原型方法_init,进行vue初始化\n  Vue.prototype._init = function (options) {\n    const vm = this;  // this 指向当前 vue 实例\n    vm.$options = options; // 将 Vue 实例化时用户传入的options暴露到vm实例上\n\n    // 目前在 vue 实例化时，传入的 options 只有 el 和 data 两个参数\n    initState(vm);  // 状态的初始化\n\n    // 如果有 el，就需要data 数据渲染到视图上\n    if (vm.$options.el) {\n      console.log(\"有el,需要挂载\")\n    }\n  }\n}\n","import { initMixin } from \"./init\";\n\n/**\n * 在vue 中所有的功能都通过原型扩展（原型模式）的方式来添加\n * @param {*} options vue 实例化传入的配置对象\n */\nfunction Vue(options){\n    this._init(options);  // 调用Vue原型上的方法_init\n}\n\ninitMixin(Vue)\n\n// 导出 Vue 函数供外部使用\nexport default Vue;\n\n\n// 1.new Vue 会调用_init方法进行初始化操作\n// 2.会将用户的选项放到 vm.$options上\n// 3.会对当前属性上搜素有没有data 数据   initState\n// 4.有data 判断data是不是一个函数 ，如果是函数取返回值 initData\n// 5.observe 去观测data中的数据 和 vm没关系，说明data已经变成了响应式\n// 6.vm上像取值也能取到data中的数据 vm._data = data 这样用户能取到data了  vm._data\n// 7.用户觉得有点麻烦 vm.xxx => vm._data\n// 8.如果更新对象不存在的属性，会导致视图不更新， 如果是数组更新索引和长度不会触发更新\n// 9.如果是替换成一个新对象，新对象会被进行劫持，如果是数组存放新内容 push unshift() 新增的内容也会被劫持\n// 通过__ob__ 进行标识这个对象被监控过  （在vue中被监控的对象身上都有一个__ob__ 这个属性）\n// 10如果你就想改索引 可以使用$set方法 内部就是splice()\n\n\n\n// 如果有el 需要挂载到页面上"],"names":["initState","vm","opts","$options","data","initData","console","log","initMixin","Vue","prototype","_init","options","el"],"mappings":";;;;;;IAAO,SAASA,SAAT,CAAmBC,EAAnB,EAAsB;IACzB;IACA,QAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB,CAFyB;;IAKzB,MAAGD,IAAI,CAACE,IAAR,EAAa;IACTC,IAAAA,QAAQ,CAAA,CAAR;IACH,GAPwB;IASzB;IACA;;IAEH;;IACD,SAASA,QAAT,CAAkBJ,EAAlB,EAAqB;IACjBK,EAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;IACH;;ICbM,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;IAC7B;IACAA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUC,OAAV,EAAmB;IACvC,UAAMX,EAAE,GAAG,IAAX,CADuC;;IAEvCA,IAAAA,EAAE,CAACE,QAAH,GAAcS,OAAd,CAFuC;IAIvC;;IACAZ,IAAAA,SAAS,CAACC,EAAD,CAAT,CALuC;IAOvC;;IACA,QAAIA,EAAE,CAACE,QAAH,CAAYU,EAAhB,EAAoB;IAClBP,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;IACD;IACF,GAXD;IAYD;;ICdD;IACA;IACA;IACA;;IACA,SAASE,GAAT,CAAaG,OAAb,EAAqB;IACjB,OAAKD,KAAL,CAAWC,OAAX,EADiB;;IAEpB;;IAEDJ,SAAS,CAACC,GAAD,CAAT;IAOA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAIA;;;;;;;;"}